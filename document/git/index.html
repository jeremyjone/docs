<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>GIT 命令 | JeremyJone 的文档站</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/assets/img/logo.png">
    <script src="https://cdn.jsdelivr.net/npm/darkreader@4.9.32/darkreader.min.js"></script>
    <script src="/js/base.js"></script>
    <meta name="description" content="jeremyjone document web">
    <link rel="preload" href="/assets/css/0.styles.3960fb44.css" as="style"><link rel="preload" href="/assets/js/app.8f8fa155.js" as="script"><link rel="preload" href="/assets/js/2.525f04cb.js" as="script"><link rel="preload" href="/assets/js/29.775f0e5a.js" as="script"><link rel="prefetch" href="/assets/js/10.63d08d11.js"><link rel="prefetch" href="/assets/js/100.72614ec1.js"><link rel="prefetch" href="/assets/js/101.d1b212dd.js"><link rel="prefetch" href="/assets/js/102.a25e4a93.js"><link rel="prefetch" href="/assets/js/103.c34c683a.js"><link rel="prefetch" href="/assets/js/104.cb77d4be.js"><link rel="prefetch" href="/assets/js/105.4f1d4ea4.js"><link rel="prefetch" href="/assets/js/106.1947da1f.js"><link rel="prefetch" href="/assets/js/107.ac7616c2.js"><link rel="prefetch" href="/assets/js/108.4908aaa0.js"><link rel="prefetch" href="/assets/js/109.c251ce45.js"><link rel="prefetch" href="/assets/js/11.2a0e182f.js"><link rel="prefetch" href="/assets/js/110.a9e2ed23.js"><link rel="prefetch" href="/assets/js/111.c4f7f6eb.js"><link rel="prefetch" href="/assets/js/112.bb7e76cf.js"><link rel="prefetch" href="/assets/js/113.1c8458c6.js"><link rel="prefetch" href="/assets/js/114.dbffda3c.js"><link rel="prefetch" href="/assets/js/115.d8168c5d.js"><link rel="prefetch" href="/assets/js/116.4b9430f6.js"><link rel="prefetch" href="/assets/js/117.2308fb2e.js"><link rel="prefetch" href="/assets/js/118.7c5bf91c.js"><link rel="prefetch" href="/assets/js/119.b9b71bdf.js"><link rel="prefetch" href="/assets/js/12.a98e6d17.js"><link rel="prefetch" href="/assets/js/120.b6213001.js"><link rel="prefetch" href="/assets/js/121.6aef03ab.js"><link rel="prefetch" href="/assets/js/122.14ce93c9.js"><link rel="prefetch" href="/assets/js/123.591bcd0a.js"><link rel="prefetch" href="/assets/js/124.fc6878a3.js"><link rel="prefetch" href="/assets/js/125.7daace7d.js"><link rel="prefetch" href="/assets/js/126.68dcac92.js"><link rel="prefetch" href="/assets/js/127.47f254ec.js"><link rel="prefetch" href="/assets/js/128.1d230f0d.js"><link rel="prefetch" href="/assets/js/129.a971a40e.js"><link rel="prefetch" href="/assets/js/13.94d318ec.js"><link rel="prefetch" href="/assets/js/130.5ef4f64f.js"><link rel="prefetch" href="/assets/js/131.ee78c803.js"><link rel="prefetch" href="/assets/js/132.a5a82587.js"><link rel="prefetch" href="/assets/js/133.240c94ce.js"><link rel="prefetch" href="/assets/js/134.5aedba2a.js"><link rel="prefetch" href="/assets/js/135.90edb505.js"><link rel="prefetch" href="/assets/js/136.02bdbd2a.js"><link rel="prefetch" href="/assets/js/137.16da80ec.js"><link rel="prefetch" href="/assets/js/14.88e8560d.js"><link rel="prefetch" href="/assets/js/15.61ec69bd.js"><link rel="prefetch" href="/assets/js/16.9087c33a.js"><link rel="prefetch" href="/assets/js/17.615bc03d.js"><link rel="prefetch" href="/assets/js/18.454f7a79.js"><link rel="prefetch" href="/assets/js/19.05c441a2.js"><link rel="prefetch" href="/assets/js/20.5ebfa613.js"><link rel="prefetch" href="/assets/js/21.8e689f18.js"><link rel="prefetch" href="/assets/js/22.a04b7dbe.js"><link rel="prefetch" href="/assets/js/23.d53d8cd8.js"><link rel="prefetch" href="/assets/js/24.8dcb577e.js"><link rel="prefetch" href="/assets/js/25.df3e8f5e.js"><link rel="prefetch" href="/assets/js/26.e6b36d43.js"><link rel="prefetch" href="/assets/js/27.7a4d9ee4.js"><link rel="prefetch" href="/assets/js/28.c474ff4d.js"><link rel="prefetch" href="/assets/js/3.d8871e3b.js"><link rel="prefetch" href="/assets/js/30.3a4de7fc.js"><link rel="prefetch" href="/assets/js/31.30af83eb.js"><link rel="prefetch" href="/assets/js/32.62715dac.js"><link rel="prefetch" href="/assets/js/33.178c92fa.js"><link rel="prefetch" href="/assets/js/34.e3182921.js"><link rel="prefetch" href="/assets/js/35.d76aa687.js"><link rel="prefetch" href="/assets/js/36.d2960daf.js"><link rel="prefetch" href="/assets/js/37.c96861cd.js"><link rel="prefetch" href="/assets/js/38.aebbbbd5.js"><link rel="prefetch" href="/assets/js/39.462c66b5.js"><link rel="prefetch" href="/assets/js/4.a50b8c29.js"><link rel="prefetch" href="/assets/js/40.116902d5.js"><link rel="prefetch" href="/assets/js/41.561ba380.js"><link rel="prefetch" href="/assets/js/42.d8592872.js"><link rel="prefetch" href="/assets/js/43.c7786911.js"><link rel="prefetch" href="/assets/js/44.13360e5a.js"><link rel="prefetch" href="/assets/js/45.24502709.js"><link rel="prefetch" href="/assets/js/46.3739c278.js"><link rel="prefetch" href="/assets/js/47.b0ba2ad1.js"><link rel="prefetch" href="/assets/js/48.f6f3adb8.js"><link rel="prefetch" href="/assets/js/49.41a56da0.js"><link rel="prefetch" href="/assets/js/5.3c2a8087.js"><link rel="prefetch" href="/assets/js/50.0102a6f6.js"><link rel="prefetch" href="/assets/js/51.2b231604.js"><link rel="prefetch" href="/assets/js/52.ce0d858e.js"><link rel="prefetch" href="/assets/js/53.967de680.js"><link rel="prefetch" href="/assets/js/54.f3a3323d.js"><link rel="prefetch" href="/assets/js/55.daef9b6d.js"><link rel="prefetch" href="/assets/js/56.7b1f320b.js"><link rel="prefetch" href="/assets/js/57.f782d9c1.js"><link rel="prefetch" href="/assets/js/58.1fbc5119.js"><link rel="prefetch" href="/assets/js/59.bd8ea4d9.js"><link rel="prefetch" href="/assets/js/6.e244f7f5.js"><link rel="prefetch" href="/assets/js/60.523ceef1.js"><link rel="prefetch" href="/assets/js/61.9c1a58aa.js"><link rel="prefetch" href="/assets/js/62.a84fb4fd.js"><link rel="prefetch" href="/assets/js/63.dcc00ed3.js"><link rel="prefetch" href="/assets/js/64.a0d41154.js"><link rel="prefetch" href="/assets/js/65.6bf425ea.js"><link rel="prefetch" href="/assets/js/66.23035faa.js"><link rel="prefetch" href="/assets/js/67.60a2fb98.js"><link rel="prefetch" href="/assets/js/68.6e7085c4.js"><link rel="prefetch" href="/assets/js/69.79033a4f.js"><link rel="prefetch" href="/assets/js/7.df849e75.js"><link rel="prefetch" href="/assets/js/70.fbd0f09d.js"><link rel="prefetch" href="/assets/js/71.d8d718c8.js"><link rel="prefetch" href="/assets/js/72.ba20d6c3.js"><link rel="prefetch" href="/assets/js/73.97d2c804.js"><link rel="prefetch" href="/assets/js/74.686e8f04.js"><link rel="prefetch" href="/assets/js/75.52d71198.js"><link rel="prefetch" href="/assets/js/76.2fd0db0a.js"><link rel="prefetch" href="/assets/js/77.c078f2a0.js"><link rel="prefetch" href="/assets/js/78.3d19ae6b.js"><link rel="prefetch" href="/assets/js/79.00ee2f30.js"><link rel="prefetch" href="/assets/js/8.72c1ac79.js"><link rel="prefetch" href="/assets/js/80.ed7d931a.js"><link rel="prefetch" href="/assets/js/81.56238c9e.js"><link rel="prefetch" href="/assets/js/82.a5a6d839.js"><link rel="prefetch" href="/assets/js/83.534fd566.js"><link rel="prefetch" href="/assets/js/84.6eb5dcfb.js"><link rel="prefetch" href="/assets/js/85.70c1cf8f.js"><link rel="prefetch" href="/assets/js/86.a9ede1b0.js"><link rel="prefetch" href="/assets/js/87.d74da425.js"><link rel="prefetch" href="/assets/js/88.cf1721f3.js"><link rel="prefetch" href="/assets/js/89.8fafb5b6.js"><link rel="prefetch" href="/assets/js/9.891cfff1.js"><link rel="prefetch" href="/assets/js/90.fa98007b.js"><link rel="prefetch" href="/assets/js/91.2d2544fe.js"><link rel="prefetch" href="/assets/js/92.c683bcc0.js"><link rel="prefetch" href="/assets/js/93.7f1d9006.js"><link rel="prefetch" href="/assets/js/94.9c30344b.js"><link rel="prefetch" href="/assets/js/95.6933a8ed.js"><link rel="prefetch" href="/assets/js/96.f1b51ef2.js"><link rel="prefetch" href="/assets/js/97.66d4c9b0.js"><link rel="prefetch" href="/assets/js/98.d7a7ee6d.js"><link rel="prefetch" href="/assets/js/99.4101c5c5.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3960fb44.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/logo.png" alt="JeremyJone 的文档站" class="logo"> <span class="site-name can-hide">JeremyJone 的文档站</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="代码相关菜单" class="dropdown-title"><span class="title">代码相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/standard/" class="nav-link">
  代码编写规范
</a></li><li class="dropdown-item"><!----> <a href="/codes/" class="nav-link">
  手撸代码
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="文档手册菜单" class="dropdown-title"><span class="title">文档手册</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          使用文档
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/document/git/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Git 使用文档
</a></li><li class="dropdown-subitem"><a href="/document/markdown/" class="nav-link">
  Markdown 使用文档
</a></li><li class="dropdown-subitem"><a href="/document/vim/" class="nav-link">
  Vim 使用文档
</a></li><li class="dropdown-subitem"><a href="/document/npm/" class="nav-link">
  npm 使用文档
</a></li><li class="dropdown-subitem"><a href="/document/docker/" class="nav-link">
  Docker 使用文档
</a></li></ul></li><li class="dropdown-item"><h4>
          学习手册
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/roadmap/base/" class="nav-link">
  计算机基础
</a></li><li class="dropdown-subitem"><a href="/roadmap/frontend/" class="nav-link">
  前端学习之路
</a></li><li class="dropdown-subitem"><a href="/roadmap/dotnetcore/" class="nav-link">
  .NET 学习之路
</a></li><li class="dropdown-subitem"><a href="/roadmap/java/" class="nav-link">
  Java 学习之路
</a></li><li class="dropdown-subitem"><a href="/roadmap/flutter/" class="nav-link">
  Flutter 学习之路
</a></li><li class="dropdown-subitem"><a href="/roadmap/android/" class="nav-link">
  Android 学习之路
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://www.jeremyjone.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  我的博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://www.xiaopangying.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人站
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/jeremyjone/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="代码相关菜单" class="dropdown-title"><span class="title">代码相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/standard/" class="nav-link">
  代码编写规范
</a></li><li class="dropdown-item"><!----> <a href="/codes/" class="nav-link">
  手撸代码
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="文档手册菜单" class="dropdown-title"><span class="title">文档手册</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          使用文档
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/document/git/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Git 使用文档
</a></li><li class="dropdown-subitem"><a href="/document/markdown/" class="nav-link">
  Markdown 使用文档
</a></li><li class="dropdown-subitem"><a href="/document/vim/" class="nav-link">
  Vim 使用文档
</a></li><li class="dropdown-subitem"><a href="/document/npm/" class="nav-link">
  npm 使用文档
</a></li><li class="dropdown-subitem"><a href="/document/docker/" class="nav-link">
  Docker 使用文档
</a></li></ul></li><li class="dropdown-item"><h4>
          学习手册
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/roadmap/base/" class="nav-link">
  计算机基础
</a></li><li class="dropdown-subitem"><a href="/roadmap/frontend/" class="nav-link">
  前端学习之路
</a></li><li class="dropdown-subitem"><a href="/roadmap/dotnetcore/" class="nav-link">
  .NET 学习之路
</a></li><li class="dropdown-subitem"><a href="/roadmap/java/" class="nav-link">
  Java 学习之路
</a></li><li class="dropdown-subitem"><a href="/roadmap/flutter/" class="nav-link">
  Flutter 学习之路
</a></li><li class="dropdown-subitem"><a href="/roadmap/android/" class="nav-link">
  Android 学习之路
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://www.jeremyjone.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  我的博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://www.xiaopangying.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人站
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/jeremyjone/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Git 使用文档</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/document/git/" aria-current="page" class="active sidebar-link">GIT 命令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/document/git/#安装" class="sidebar-link">安装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/document/git/#linux" class="sidebar-link">Linux</a></li><li class="sidebar-sub-header"><a href="/document/git/#windows" class="sidebar-link">Windows</a></li><li class="sidebar-sub-header"><a href="/document/git/#mac-os-x" class="sidebar-link">Mac OS X</a></li></ul></li><li class="sidebar-sub-header"><a href="/document/git/#配置" class="sidebar-link">配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/document/git/#多用户行为" class="sidebar-link">多用户行为</a></li></ul></li><li class="sidebar-sub-header"><a href="/document/git/#使用" class="sidebar-link">使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/document/git/#初始化本地仓库" class="sidebar-link">初始化本地仓库</a></li><li class="sidebar-sub-header"><a href="/document/git/#帮助" class="sidebar-link">帮助</a></li><li class="sidebar-sub-header"><a href="/document/git/#git-的流程" class="sidebar-link">Git 的流程</a></li></ul></li><li class="sidebar-sub-header"><a href="/document/git/#提交" class="sidebar-link">提交</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/document/git/#添加到暂存区" class="sidebar-link">添加到暂存区</a></li><li class="sidebar-sub-header"><a href="/document/git/#取消暂存区文件" class="sidebar-link">取消暂存区文件</a></li><li class="sidebar-sub-header"><a href="/document/git/#删除文件" class="sidebar-link">删除文件</a></li><li class="sidebar-sub-header"><a href="/document/git/#暂存工作现场" class="sidebar-link">暂存工作现场</a></li><li class="sidebar-sub-header"><a href="/document/git/#查看工作现场" class="sidebar-link">查看工作现场</a></li><li class="sidebar-sub-header"><a href="/document/git/#恢复工作现场" class="sidebar-link">恢复工作现场</a></li><li class="sidebar-sub-header"><a href="/document/git/#删除工作现场" class="sidebar-link">删除工作现场</a></li><li class="sidebar-sub-header"><a href="/document/git/#查看工作区状态" class="sidebar-link">查看工作区状态</a></li><li class="sidebar-sub-header"><a href="/document/git/#提交修改内容" class="sidebar-link">提交修改内容</a></li><li class="sidebar-sub-header"><a href="/document/git/#重新提交" class="sidebar-link">重新提交</a></li><li class="sidebar-sub-header"><a href="/document/git/#撤销修改" class="sidebar-link">撤销修改</a></li><li class="sidebar-sub-header"><a href="/document/git/#删除某次提交" class="sidebar-link">删除某次提交</a></li><li class="sidebar-sub-header"><a href="/document/git/#合并提交" class="sidebar-link">合并提交</a></li></ul></li><li class="sidebar-sub-header"><a href="/document/git/#日志" class="sidebar-link">日志</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/document/git/#查看提交日志" class="sidebar-link">查看提交日志</a></li></ul></li><li class="sidebar-sub-header"><a href="/document/git/#回退" class="sidebar-link">回退</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/document/git/#记录回退的命令" class="sidebar-link">记录回退的命令</a></li><li class="sidebar-sub-header"><a href="/document/git/#回退到当前最新提交" class="sidebar-link">回退到当前最新提交</a></li><li class="sidebar-sub-header"><a href="/document/git/#回退到上次提交" class="sidebar-link">回退到上次提交</a></li><li class="sidebar-sub-header"><a href="/document/git/#回退到上-n-次提交" class="sidebar-link">回退到上 n 次提交</a></li><li class="sidebar-sub-header"><a href="/document/git/#回退到指定版本" class="sidebar-link">回退到指定版本</a></li></ul></li><li class="sidebar-sub-header"><a href="/document/git/#分支" class="sidebar-link">分支</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/document/git/#查看分支" class="sidebar-link">查看分支</a></li><li class="sidebar-sub-header"><a href="/document/git/#创建分支" class="sidebar-link">创建分支</a></li><li class="sidebar-sub-header"><a href="/document/git/#切换分支" class="sidebar-link">切换分支</a></li><li class="sidebar-sub-header"><a href="/document/git/#删除分支" class="sidebar-link">删除分支</a></li><li class="sidebar-sub-header"><a href="/document/git/#合并分支" class="sidebar-link">合并分支</a></li><li class="sidebar-sub-header"><a href="/document/git/#忽略合并某些文件" class="sidebar-link">忽略合并某些文件</a></li><li class="sidebar-sub-header"><a href="/document/git/#查看合并记录" class="sidebar-link">查看合并记录</a></li><li class="sidebar-sub-header"><a href="/document/git/#将本地分支关联到远程分支" class="sidebar-link">将本地分支关联到远程分支</a></li></ul></li><li class="sidebar-sub-header"><a href="/document/git/#比较" class="sidebar-link">比较</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/document/git/#比较工作区与暂存区的差异" class="sidebar-link">比较工作区与暂存区的差异</a></li><li class="sidebar-sub-header"><a href="/document/git/#检查多余的空白字符" class="sidebar-link">检查多余的空白字符</a></li><li class="sidebar-sub-header"><a href="/document/git/#比较工作区与当前分支库的差异" class="sidebar-link">比较工作区与当前分支库的差异</a></li><li class="sidebar-sub-header"><a href="/document/git/#比较暂存区与版本库的差异" class="sidebar-link">比较暂存区与版本库的差异</a></li><li class="sidebar-sub-header"><a href="/document/git/#比较不同版本库中不同文件的差异" class="sidebar-link">比较不同版本库中不同文件的差异</a></li><li class="sidebar-sub-header"><a href="/document/git/#查看每次提交差异" class="sidebar-link">查看每次提交差异</a></li></ul></li><li class="sidebar-sub-header"><a href="/document/git/#标签" class="sidebar-link">标签</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/document/git/#查看标签" class="sidebar-link">查看标签</a></li><li class="sidebar-sub-header"><a href="/document/git/#创建标签" class="sidebar-link">创建标签</a></li><li class="sidebar-sub-header"><a href="/document/git/#删除标签" class="sidebar-link">删除标签</a></li><li class="sidebar-sub-header"><a href="/document/git/#发布标签" class="sidebar-link">发布标签</a></li><li class="sidebar-sub-header"><a href="/document/git/#拉取标签" class="sidebar-link">拉取标签</a></li></ul></li><li class="sidebar-sub-header"><a href="/document/git/#远程操作" class="sidebar-link">远程操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/document/git/#查看仓库信息" class="sidebar-link">查看仓库信息</a></li><li class="sidebar-sub-header"><a href="/document/git/#添加远程仓库" class="sidebar-link">添加远程仓库</a></li><li class="sidebar-sub-header"><a href="/document/git/#将远程仓库分支添加到本地" class="sidebar-link">将远程仓库分支添加到本地</a></li><li class="sidebar-sub-header"><a href="/document/git/#克隆远程仓库到本地" class="sidebar-link">克隆远程仓库到本地</a></li><li class="sidebar-sub-header"><a href="/document/git/#拉取所有远程分支到本地" class="sidebar-link">拉取所有远程分支到本地</a></li><li class="sidebar-sub-header"><a href="/document/git/#更新分支" class="sidebar-link">更新分支</a></li><li class="sidebar-sub-header"><a href="/document/git/#推送分支" class="sidebar-link">推送分支</a></li><li class="sidebar-sub-header"><a href="/document/git/#合并远程分支" class="sidebar-link">合并远程分支</a></li><li class="sidebar-sub-header"><a href="/document/git/#将最近两次提交合并为一个提交，并强制提交到远程仓库" class="sidebar-link">将最近两次提交合并为一个提交，并强制提交到远程仓库</a></li><li class="sidebar-sub-header"><a href="/document/git/#删除远程分支" class="sidebar-link">删除远程分支</a></li></ul></li><li class="sidebar-sub-header"><a href="/document/git/#提交规范" class="sidebar-link">提交规范</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/document/git/#提交格式" class="sidebar-link">提交格式</a></li><li class="sidebar-sub-header"><a href="/document/git/#header" class="sidebar-link">Header</a></li><li class="sidebar-sub-header"><a href="/document/git/#body" class="sidebar-link">Body</a></li><li class="sidebar-sub-header"><a href="/document/git/#footer" class="sidebar-link">Footer</a></li></ul></li><li class="sidebar-sub-header"><a href="/document/git/#操作-git-中的文件" class="sidebar-link">操作 git 中的文件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/document/git/#查看-git-占用空间" class="sidebar-link">查看 git 占用空间</a></li><li class="sidebar-sub-header"><a href="/document/git/#查找-git-中的文件" class="sidebar-link">查找 git 中的文件</a></li><li class="sidebar-sub-header"><a href="/document/git/#删除匹配的-rar-文件" class="sidebar-link">删除匹配的*.rar 文件</a></li><li class="sidebar-sub-header"><a href="/document/git/#回收空间" class="sidebar-link">回收空间</a></li></ul></li><li class="sidebar-sub-header"><a href="/document/git/#常见操作" class="sidebar-link">常见操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/document/git/#解决上游（fork-源）冲突" class="sidebar-link">解决上游（fork 源）冲突</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>GitHub Workflow</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="git-命令"><a href="#git-命令" class="header-anchor">#</a> GIT 命令</h1> <h2 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h2> <ul><li><h3 id="linux"><a href="#linux" class="header-anchor">#</a> Linux</h3> <ul><li><p>Linux 下</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># ubuntu</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token function">git</span>

<span class="token comment"># centos</span>
yum <span class="token function">install</span> -y <span class="token function">git</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p>老一点的 Debian 或 Ubuntu Linux，要把命令改为</p> <p>sudo apt-get install git-core</p></li></ul></li> <li><h3 id="windows"><a href="#windows" class="header-anchor">#</a> Windows</h3> <ul><li>在 Windows 上使用 Git，可以从 Git 官网直接<a href="https://git-scm.com/downloads" target="_blank" rel="noopener noreferrer">下载安装程序<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，然后按默认选项安装即可。安装完成后，在开始菜单里找到“Git”-&gt;“Git Bash”，蹦出一个类似命令行窗口的东西，就说明 Git 安装成功！</li></ul> <img src="/assets/pic/bash.png" alt="git bash"></li> <li><h3 id="mac-os-x"><a href="#mac-os-x" class="header-anchor">#</a> Mac OS X</h3> <ul><li><p>一是安装 homebrew，然后通过 homebrew 安装 Git，具体方法请参考 homebrew 的文档：<a href="http://brew.sh/" target="_blank" rel="noopener noreferrer">http://brew.sh/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p></li> <li><p>第二种方法更简单，也是推荐的方法，就是直接从 AppStore 安装 Xcode，Xcode 集成了 Git，不过默认没有安装，你需要运行 Xcode，选择菜单“Xcode”-&gt;“Preferences”，在弹出窗口中找到“Downloads”，选择“Command Line Tools”，点“Install”就可以完成安装了。</p></li></ul></li></ul> <p>安装完成后，可以在 shell 或 bash 中查看 git</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> --version
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>显示当前安装的 git 版本信息，说明已经安装成功了。</p> <h2 id="配置"><a href="#配置" class="header-anchor">#</a> 配置</h2> <ul><li>提交名字</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 全局</span>
<span class="token function">git</span> config --global user.name <span class="token string">&quot;yourname&quot;</span>

<span class="token comment"># 当前仓库</span>
<span class="token function">git</span> config user.name <span class="token string">&quot;yourname&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>提交邮箱</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 全局</span>
<span class="token function">git</span> config --global user.email <span class="token string">&quot;yourname@example.com&quot;</span>

<span class="token comment"># 当前仓库</span>
<span class="token function">git</span> config user.email <span class="token string">&quot;yourname@example.com&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li><p>创建 SSH</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>ssh-keygen -t rsa -C <span class="token string">&quot;youremail@example.com&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>将新生成的 SSH 全部拷贝并添加到远程仓库的相应设置中。</p></li></ul> <h3 id="多用户行为"><a href="#多用户行为" class="header-anchor">#</a> 多用户行为</h3> <p>在配置全局 <code>--global</code> 用户之后，我们默认与远程仓库的联系都是该用户。如果我们需要通过其他账户进行远程操作，则可以变更远程仓库路径的办法。</p> <ul><li>只是在域名前面加上用户名和 <code>token</code> 即可：</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 之前的路径</span>
https://github.com/<span class="token operator">&lt;</span>username<span class="token operator">&gt;</span>/<span class="token operator">&lt;</span>repository_name<span class="token operator">&gt;</span>.git

<span class="token comment"># 那么现在天上用户名即可</span>
https://<span class="token operator">&lt;</span>username<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>personal_access_token<span class="token operator">&gt;</span>@github.com/<span class="token operator">&lt;</span>username<span class="token operator">&gt;</span>/<span class="token operator">&lt;</span>repository_name<span class="token operator">&gt;</span>.git
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>如果不希望 <code>git</code> 保存我们的 <code>token</code>，则可以只填用户名：</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>https://<span class="token operator">&lt;</span>username<span class="token operator">&gt;</span>@github.com/<span class="token operator">&lt;</span>username<span class="token operator">&gt;</span>/<span class="token operator">&lt;</span>repository_name<span class="token operator">&gt;</span>.git
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>之后会要求输入 <s>密码</s> 或 <code>token</code>。</p> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p><strong>密码</strong> 不再是认证方式之一。</p></div> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p><code>token</code> 需要在 <a href="https://github.com/settings/tokens" target="_blank" rel="noopener noreferrer">https://github.com/settings/tokens<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 中申请。</p> <p>填写一个描述（Note），选择有效时间，最后选择域（scopes）即可，通常选择第一个 <code>repo</code> 即可，点击 <code>生成 token</code>。</p> <p>页面会显示一个 <code>token</code> 字串，保存它，它就是每次需要填写的内容，该字串只显示一次，后续看不到它。</p> <img src="/assets/pic/generate-token.png" alt=""></div> <h2 id="使用"><a href="#使用" class="header-anchor">#</a> 使用</h2> <h3 id="初始化本地仓库"><a href="#初始化本地仓库" class="header-anchor">#</a> 初始化本地仓库</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> init
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="帮助"><a href="#帮助" class="header-anchor">#</a> 帮助</h3> <p><code>git</code> 提供了完整的帮助，可以通过 <code>--help</code> 命令来查看。同时，在任何命令下使用 <code>--help</code> 就会显示当前命令的帮助文档。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> --help  <span class="token comment"># 会列出所有可用的命令</span>

<span class="token function">git</span> <span class="token function">add</span> --help  <span class="token comment"># 会打开关于 add 命令的帮助</span>

<span class="token function">git</span> log --help  <span class="token comment"># 会打开关于 log 命令的帮助</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="git-的流程"><a href="#git-的流程" class="header-anchor">#</a> Git 的流程</h3> <p>Git 分成 <code>local（本地）</code>、<code>staged（暂存区）</code> 以及 <code>Git（仓库）</code>，另外还包括 <code>远程仓库（Remote）</code>，如 GitHub 等。</p> <p>它的操作流程如下：</p> <img src="/assets/pic/git-flow.png" alt=""> <h2 id="提交"><a href="#提交" class="header-anchor">#</a> 提交</h2> <h3 id="添加到暂存区"><a href="#添加到暂存区" class="header-anchor">#</a> 添加到暂存区</h3> <ul><li><p>存放指定文件</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> <span class="token function">add</span> <span class="token operator">&lt;</span>filename<span class="token operator">&gt;</span>

<span class="token comment"># 支持多个文件</span>
<span class="token function">git</span> <span class="token function">add</span> <span class="token operator">&lt;</span>filename<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> <span class="token operator">&lt;</span>filename<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">..</span>.<span class="token punctuation">]</span>

<span class="token comment"># 支持通配符，比如添加所有 js 文件</span>
<span class="token function">git</span> <span class="token function">add</span> *.js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li> <li><p>将所有文件的修改、新建添加到暂存区</p> <p>该命令可以将所有内容都添加到暂存区</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> <span class="token function">add</span> -A
<span class="token comment"># 或者</span>
<span class="token function">git</span> <span class="token function">add</span> --all
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>该命令只能够添加当前目录或者子目录的文件</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span> <span class="token comment"># 注意 add 后面的一个点，它表示所有文件</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>将文件的修改、删除添加到暂存区</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> <span class="token function">add</span> -u
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <h3 id="取消暂存区文件"><a href="#取消暂存区文件" class="header-anchor">#</a> 取消暂存区文件</h3> <p>该命令会将暂存区的文件回退到工作区，并不会改变文件内容，如果需要重新添加到咱群去，只需要重新执行 <code>git add</code> 命令即可。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> reset HEAD  <span class="token comment"># 取消全部文件</span>

<span class="token function">git</span> reset HEAD <span class="token operator">&lt;</span>filename<span class="token operator">&gt;</span>  <span class="token comment"># 取消指定文件</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="删除文件"><a href="#删除文件" class="header-anchor">#</a> 删除文件</h3> <p>如果文件还没有提交，可以通过 <code>.gitignore</code> 文件来忽略它。</p> <p>但是如果文件已经纳入管理，那么需要删除它：</p> <ul><li><p>文件不再纳入版本管理，同时删除本地文件</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> <span class="token function">rm</span> filename
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>文件不再纳入版本管理，同时保留本地文件</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> <span class="token function">rm</span> --cached filename
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <h3 id="暂存工作现场"><a href="#暂存工作现场" class="header-anchor">#</a> 暂存工作现场</h3> <p>将所有未提交的更改保存到本地，并隐藏它们，回退到当前分支的提交状态，通常是 <code>HEAD</code>。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> stash

<span class="token comment"># 不跟参数等同于</span>
<span class="token function">git</span> stash push
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="查看工作现场"><a href="#查看工作现场" class="header-anchor">#</a> 查看工作现场</h3> <p>查看已保存的工作现场列表，可以获取到工作现场的索引：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> stash list
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><img src="/assets/pic/stash_index.png" alt=""> <h3 id="恢复工作现场"><a href="#恢复工作现场" class="header-anchor">#</a> 恢复工作现场</h3> <ul><li>恢复最近一次保存的工作现场</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> stash apply
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>恢复后删除该工作现场</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> stash pop
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上面两个命令都支持通过索引恢复指定工作现场，具体索引按照实际填写即可：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> stash apply stash@<span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span>

<span class="token function">git</span> stash pop stash@<span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="删除工作现场"><a href="#删除工作现场" class="header-anchor">#</a> 删除工作现场</h3> <ul><li>删除最近的一个工作现场</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> stash drop
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>删除所有工作现场</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> stash <span class="token function">clear</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="查看工作区状态"><a href="#查看工作区状态" class="header-anchor">#</a> 查看工作区状态</h3> <p>显示当前工作区中所有变化文件的状态</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> status
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="提交修改内容"><a href="#提交修改内容" class="header-anchor">#</a> 提交修改内容</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> commit -m <span class="token string">&quot;desc&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 多行desc</span>
<span class="token comment"># 这里需要先暂时输入一个单引号，然后写多行信息，写完之后再输入下一个单引号</span>
<span class="token function">git</span> commit -m <span class="token string">'
1. log1
2. log2
3. log3
'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">建议</p> <p>提交内容应该严格按照现代<a href="#%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83">提交规范</a>，使用规范工具，不自行填写内容。</p></div> <h3 id="重新提交"><a href="#重新提交" class="header-anchor">#</a> 重新提交</h3> <p>这将与上次提交内容合并为一次提交。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> commit --amend -m <span class="token string">&quot;desc&quot;</span>  <span class="token comment"># 注意 --amend 必须在 -m 的前面</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="撤销修改"><a href="#撤销修改" class="header-anchor">#</a> 撤销修改</h3> <p>撤销对工作区文件的修改，若修改后没有放到暂存区，则与上个版本一致，若修改后放到暂存区，则和暂存区一致。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> checkout -- <span class="token operator">&lt;</span>filename<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="删除某次提交"><a href="#删除某次提交" class="header-anchor">#</a> 删除某次提交</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> log  <span class="token comment"># 获取提交信息</span>
<span class="token function">git</span> rebase -i <span class="token operator">&lt;</span>commit-id<span class="token operator">&gt;</span>  <span class="token comment"># commit-id 为提交版本的hash code</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>注意：</strong> 这里有个坑，commit-id 是需要删除的前一个 hash code，用图说明：</p> <img src="/assets/pic/rebase1.png" alt="rebase"> <p>使用命令后，打开一个文件，将需要删除版本前面的 <code>pick</code> 改为 <code>drop</code>，用图说明：</p> <img src="/assets/pic/rebase2.png" alt="rebase"> <p>修改后保存关闭，<code>ZZ</code> 或者 <code>:wq</code>，vim 的命令这里不赘述。</p> <p>退出后使用<code>git log</code>再次查看，可以看到对应版本已经没有了。</p> <h3 id="合并提交"><a href="#合并提交" class="header-anchor">#</a> 合并提交</h3> <p>分支开发时，会有很多提交，但是合并到主分支时，希望只有一个提交，此时需要合并提交。</p> <ul><li>修改 HEAD 并重新提交</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> reset HEAD~<span class="token operator">&lt;</span>n<span class="token operator">&gt;</span>  <span class="token comment"># n 为需要合并提交的数量</span>
<span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>
<span class="token function">git</span> commit -am <span class="token string">&quot;desc&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>通过 rebase 界面自定义</li></ul> <p>此方法更适合需要保留之前的所有/部分提交信息。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> rebase -i <span class="token operator">&lt;</span>remoteRepo<span class="token operator">&gt;</span>/<span class="token operator">&lt;</span>branchname<span class="token operator">&gt;</span>

<span class="token comment"># 通常为</span>
<span class="token function">git</span> rebase -i origin/master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>此时会打开一个 <code>vim</code> 界面：</p> <img src="/assets/pic/rebase-merge-commit.png" alt=""> <p>最上面会列出当前本地提交的所有内容（自与远程仓库不一致开始），按时间顺序依次向下列出，所以越下面的内容越新，最下面一行是最新提交的。</p> <p>根据下面的注释：</p> <div class="language-text line-numbers-mode"><pre class="language-text"><code>pick：  正常选中
reword：选中，并且修改提交信息；
edit：  选中，rebase 时会暂停，允许你修改这个 commit（参考这里）
squash：选中，会将当前 commit 与上一个 commit 合并
fixup： 与 squash 相同，但不会保存当前 commit 的提交信息
exec：  执行其他shell命令
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>根据需要将指定提交的 <code>pick</code> 修改为 <code>squash</code>（或 <code>s</code>） 或者 <code>fixup</code>（或 <code>f</code>），注意第一行不能修改，可以修改后面的内容。</p> <p>然后保存文件（<code>ZZ</code> 或者 <code>:wq</code>），就可以进行合并提交了。</p> <p>保存文件后，会跳转到另一个 <code>vim</code> 界面，显示了提交信息，如果填写的是 <code>squash</code>，则会显示所有提交的信息，这里做了一个合并。如果填写的是 <code>fixup</code>，则不会保留其他提交信息。</p> <p>填写好信息，保存文件，就可以看到只有一个（如果在基变文件中只保留了一个 <code>pick</code> 的话）提交信息了。</p> <h2 id="日志"><a href="#日志" class="header-anchor">#</a> 日志</h2> <h3 id="查看提交日志"><a href="#查看提交日志" class="header-anchor">#</a> 查看提交日志</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> log  <span class="token comment"># 从近到远显示提交日志</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>通过日志我们可以查询很多需要的数据</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> log --pretty<span class="token operator">=</span>oneline  <span class="token comment"># 将每个提交记录放在一行显示，其它参数：oneline、short、full、fuller等</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>可以显示每次提交的轨迹，这在多分支下非常有用</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> log --graph

<span class="token comment"># 查看分支合并情况</span>
<span class="token function">git</span> log --graph --pretty<span class="token operator">=</span>oneline --abbrev-commit
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>统计提交的行数</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> log --stat <span class="token operator">|</span> perl -ne <span class="token string">'END { print $c } $c += $1 if /(\d+) insertions/;'</span>

<span class="token comment"># 指定起始日期开始</span>
<span class="token function">git</span> log --stat --since <span class="token number">2020</span>-06-01 <span class="token operator">|</span>perl -ne <span class="token string">'END { print $c } $c += $1 if /(\d+) insertions/;'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>查看指定日期的日志</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> log --since <span class="token number">2020</span>-06-01

<span class="token comment"># 统计日志的行数</span>
<span class="token function">git</span> log --since <span class="token number">2020</span>-06-01 <span class="token operator">|</span> <span class="token function">wc</span> -l
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>查看提交的次数</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> log --oneline <span class="token operator">|</span> <span class="token function">wc</span> -l
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>按用户查看添加、删除的行信息</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> log --author<span class="token operator">=</span><span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span><span class="token function">git</span> config --get user.name<span class="token variable">)</span></span>&quot;</span> --pretty<span class="token operator">=</span>tformat: --numstat<span class="token operator">|</span> <span class="token function">gawk</span> <span class="token string">'{ add += $1 ; subs += $2 ; loc += $1 - $2 } END { printf &quot;added lines: %s removed lines : %s total lines: %s\n&quot;,add,subs,loc }'</span>

<span class="token comment"># 上面的方法可以直接使用，会使用当前账户的用户，如果想查看其他人，可以将--author后面的参数直接换成指定用户名即可。例如：</span>
<span class="token function">git</span> log --author<span class="token operator">=</span><span class="token string">&quot;jeremyjone&quot;</span> --pretty<span class="token operator">=</span>tformat: --numstat<span class="token operator">|</span> <span class="token function">gawk</span> <span class="token string">'{ add += $1 ; subs += $2 ; loc += $1 - $2 } END { printf &quot;added lines: %s removed lines : %s total lines: %s\n&quot;,add,subs,loc }'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>查看仓库的提交者名称</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> log --pretty<span class="token operator">=</span><span class="token string">'%aN'</span> <span class="token operator">|</span> <span class="token function">sort</span> <span class="token operator">|</span> <span class="token function">uniq</span> -c <span class="token operator">|</span> <span class="token function">sort</span> -k1 -n -r

<span class="token comment"># 查看前几名，比如 5</span>
<span class="token function">git</span> log --pretty<span class="token operator">=</span><span class="token string">'%aN'</span> <span class="token operator">|</span> <span class="token function">sort</span> <span class="token operator">|</span> <span class="token function">uniq</span> -c <span class="token operator">|</span> <span class="token function">sort</span> -k1 -n -r <span class="token operator">|</span> <span class="token function">head</span> -n <span class="token number">5</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="回退"><a href="#回退" class="header-anchor">#</a> 回退</h2> <h3 id="记录回退的命令"><a href="#记录回退的命令" class="header-anchor">#</a> 记录回退的命令</h3> <p>该命令可以查看历史提交以及被回退的记录。但该记录仅在本地，且有时限。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> reflog
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="回退到当前最新提交"><a href="#回退到当前最新提交" class="header-anchor">#</a> 回退到当前最新提交</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> reset --hard HEAD
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="回退到上次提交"><a href="#回退到上次提交" class="header-anchor">#</a> 回退到上次提交</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> reset --hard HEAD^
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="回退到上-n-次提交"><a href="#回退到上-n-次提交" class="header-anchor">#</a> 回退到上 n 次提交</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> reset --hard HEAD~<span class="token operator">&lt;</span>n<span class="token operator">&gt;</span>  <span class="token comment">#n 为一个数字</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="回退到指定版本"><a href="#回退到指定版本" class="header-anchor">#</a> 回退到指定版本</h3> <p>该命令既可以回退到过去版本，也可以回到未来版本。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> reset --hard <span class="token operator">&lt;</span>commitId<span class="token operator">&gt;</span>  <span class="token comment"># commitId 可以使用 reflog 命令查看</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="分支"><a href="#分支" class="header-anchor">#</a> 分支</h2> <h3 id="查看分支"><a href="#查看分支" class="header-anchor">#</a> 查看分支</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 仅查看本地</span>
<span class="token function">git</span> branch

<span class="token comment"># 查看本地和远程。远程名称为 &lt;remoteRepo&gt;/&lt;branchname&gt;</span>
<span class="token function">git</span> branch -a
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="创建分支"><a href="#创建分支" class="header-anchor">#</a> 创建分支</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> branch <span class="token operator">&lt;</span>branchname<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="切换分支"><a href="#切换分支" class="header-anchor">#</a> 切换分支</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> checkout <span class="token operator">&lt;</span>branchname<span class="token operator">&gt;</span>
<span class="token function">git</span> checkout -b <span class="token operator">&lt;</span>branchname<span class="token operator">&gt;</span>  <span class="token comment"># 创建并切换到该分支</span>
<span class="token function">git</span> checkout -f <span class="token operator">&lt;</span>branchname<span class="token operator">&gt;</span>  <span class="token comment"># 强制切换到该分支</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="删除分支"><a href="#删除分支" class="header-anchor">#</a> 删除分支</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 删除为合并分支</span>
<span class="token function">git</span> branch -D <span class="token operator">&lt;</span>branchname<span class="token operator">&gt;</span>

<span class="token comment"># 删除已合并分支</span>
<span class="token function">git</span> branch -d <span class="token operator">&lt;</span>branchname<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="合并分支"><a href="#合并分支" class="header-anchor">#</a> 合并分支</h3> <p>将某个分支合并到当前分支。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> merge <span class="token operator">&lt;</span>branchname<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="忽略合并某些文件"><a href="#忽略合并某些文件" class="header-anchor">#</a> 忽略合并某些文件</h3> <p>在合并时可以忽略特定文件。</p> <p>先配置一个 <code>merge.ours.driver</code>：</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">git</span> config --global merge.ours.driver <span class="token boolean">true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>然后在被合并分支的根目录下添加一个 <code>.gitattributes</code> 文件，并把要忽略的文件填进去，例如：</p> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>config.js merge=ours
scripts/index.js merge=ours
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>它会在合并过程中保持这些文件不变。</p> <h3 id="查看合并记录"><a href="#查看合并记录" class="header-anchor">#</a> 查看合并记录</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 查看分支合并情况</span>
<span class="token function">git</span> log --graph --pretty<span class="token operator">=</span>oneline --abbrev-commit

<span class="token comment"># 查看已合并到当前分支的分支、上游分支</span>
<span class="token function">git</span> branch --merged

<span class="token comment"># 查看尚未合并的分支</span>
<span class="token function">git</span> branch --no-merged
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="将本地分支关联到远程分支"><a href="#将本地分支关联到远程分支" class="header-anchor">#</a> 将本地分支关联到远程分支</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> branch --set-upstream <span class="token operator">&lt;</span>localBranch<span class="token operator">&gt;</span> origin/<span class="token operator">&lt;</span>remoteBranch<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="比较"><a href="#比较" class="header-anchor">#</a> 比较</h2> <h3 id="比较工作区与暂存区的差异"><a href="#比较工作区与暂存区的差异" class="header-anchor">#</a> 比较工作区与暂存区的差异</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> <span class="token function">diff</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="检查多余的空白字符"><a href="#检查多余的空白字符" class="header-anchor">#</a> 检查多余的空白字符</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> <span class="token function">diff</span> --check
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="比较工作区与当前分支库的差异"><a href="#比较工作区与当前分支库的差异" class="header-anchor">#</a> 比较工作区与当前分支库的差异</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> <span class="token function">diff</span> HEAD
<span class="token function">git</span> <span class="token function">diff</span> HEAD -- path  <span class="token comment"># 与当前分支库同一目录比较</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="比较暂存区与版本库的差异"><a href="#比较暂存区与版本库的差异" class="header-anchor">#</a> 比较暂存区与版本库的差异</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> <span class="token function">diff</span> --cached <span class="token punctuation">(</span>或 --staged<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="比较不同版本库中不同文件的差异"><a href="#比较不同版本库中不同文件的差异" class="header-anchor">#</a> 比较不同版本库中不同文件的差异</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> <span class="token function">diff</span> HEAD:<span class="token operator">&lt;</span>filename<span class="token operator">&gt;</span> HEAD:<span class="token operator">&lt;</span>filename<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="查看每次提交差异"><a href="#查看每次提交差异" class="header-anchor">#</a> 查看每次提交差异</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> log -p -2  <span class="token comment"># 查询每次提交的行差异， 2查询的是提交次数，-p是展开显示每次提交的内容差异</span>
<span class="token function">git</span> log -U1 --word-diff  <span class="token comment"># 查询每次提交的单词差异</span>
<span class="token function">git</span> log --stat  <span class="token comment"># 显示改动的概要信息</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="标签"><a href="#标签" class="header-anchor">#</a> 标签</h2> <p>标签是用于特定版本的标记。</p> <h3 id="查看标签"><a href="#查看标签" class="header-anchor">#</a> 查看标签</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> tag
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="创建标签"><a href="#创建标签" class="header-anchor">#</a> 创建标签</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 给当前版本添加标签</span>
<span class="token function">git</span> tag <span class="token operator">&lt;</span>content<span class="token operator">&gt;</span>

<span class="token comment"># 给历史版本添加标签</span>
<span class="token function">git</span> tag <span class="token operator">&lt;</span>content<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>commitId<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="删除标签"><a href="#删除标签" class="header-anchor">#</a> 删除标签</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 删除本地标签</span>
<span class="token function">git</span> tag -d <span class="token operator">&lt;</span>content<span class="token operator">&gt;</span>

<span class="token comment"># 删除远程标签</span>
<span class="token function">git</span> push <span class="token operator">&lt;</span>remoteRepo<span class="token operator">&gt;</span> -d <span class="token operator">&lt;</span>content<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="发布标签"><a href="#发布标签" class="header-anchor">#</a> 发布标签</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 发布指定标签</span>
<span class="token function">git</span> push -u <span class="token operator">&lt;</span>remoteRepo<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>content<span class="token operator">&gt;</span>

<span class="token comment"># 发布所有未提交的标签</span>
<span class="token function">git</span> push <span class="token operator">&lt;</span>remoteRepo<span class="token operator">&gt;</span> --tags
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="拉取标签"><a href="#拉取标签" class="header-anchor">#</a> 拉取标签</h3> <p>从远程仓库更新本地标签内容。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> pull <span class="token operator">&lt;</span>remoteRepo<span class="token operator">&gt;</span> --tags
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="远程操作"><a href="#远程操作" class="header-anchor">#</a> 远程操作</h2> <h3 id="查看仓库信息"><a href="#查看仓库信息" class="header-anchor">#</a> 查看仓库信息</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 不详细信息</span>
<span class="token function">git</span> remote

<span class="token comment"># 详细信息</span>
<span class="token function">git</span> remote -v
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="添加远程仓库"><a href="#添加远程仓库" class="header-anchor">#</a> 添加远程仓库</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> remote <span class="token function">add</span> <span class="token operator">&lt;</span>remoteRepo<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>url<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><code>remoteRepo</code> 名称可以随意填写，通常默认填写 <code>origin</code></li> <li><code>url</code> 可以在远程仓库网站找到</li></ul> <h3 id="将远程仓库分支添加到本地"><a href="#将远程仓库分支添加到本地" class="header-anchor">#</a> 将远程仓库分支添加到本地</h3> <p>该命令仅仅是拉取远程仓库内容并更新到本地，永远不会影响当前的工作区。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> fetch <span class="token operator">&lt;</span>remoteRepo<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>branchname<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="克隆远程仓库到本地"><a href="#克隆远程仓库到本地" class="header-anchor">#</a> 克隆远程仓库到本地</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> clone <span class="token operator">&lt;</span>url<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="拉取所有远程分支到本地"><a href="#拉取所有远程分支到本地" class="header-anchor">#</a> 拉取所有远程分支到本地</h3> <p>三种方法都可以：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 1  注意 remoteRepo 需要根据实际需要进行替换</span>
<span class="token function">git</span> branch -r <span class="token operator">|</span> <span class="token function">grep</span> -v <span class="token string">'\-&gt;'</span> <span class="token operator">|</span> <span class="token keyword">while</span> <span class="token builtin class-name">read</span> remote<span class="token punctuation">;</span> <span class="token keyword">do</span> <span class="token function">git</span> branch --track <span class="token string">&quot;<span class="token variable">${remote<span class="token operator">#</span>remoteRepo<span class="token operator">/</span>}</span>&quot;</span> <span class="token string">&quot;<span class="token variable">$remote</span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">done</span>

<span class="token comment"># 2</span>
<span class="token function">git</span> fetch --all

<span class="token comment"># 3 慎用，会覆盖当前工作区</span>
<span class="token function">git</span> pull --all
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="更新分支"><a href="#更新分支" class="header-anchor">#</a> 更新分支</h3> <p>该命令相当于是 <code>git fetch</code> 与 <code>git merge FETCH_HEAD</code> 的合体，拉取远程仓库内容并且合并到当前工作区，该操作可能会出现冲突，需要注意。</p> <ul><li>更新当前分支</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> pull
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>获取远程仓库的 master 分支，并合并到本地的 work 分支</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> pull <span class="token operator">&lt;</span>remoteRepo<span class="token operator">&gt;</span> master:work
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>将远程仓库分支拉取到本地，分支名称相同</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> pull <span class="token operator">&lt;</span>remoteRepo<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>branchname<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="推送分支"><a href="#推送分支" class="header-anchor">#</a> 推送分支</h3> <ul><li>向远程仓库推送当前分支</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> push
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>将本地仓库提交到远程仓库</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> push <span class="token operator">&lt;</span>remoteRepo<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>branchname<span class="token operator">&gt;</span>

<span class="token comment"># 向远程仓库推送 master 分支</span>
<span class="token function">git</span> push <span class="token operator">&lt;</span>remoteRepo<span class="token operator">&gt;</span> master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>强制推送需要添加参数 <code>-f</code></li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> push -f <span class="token operator">&lt;</span>remoteRepo<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>branchname<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>第一次推送时需要参数 <code>-u</code></li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> push -u <span class="token operator">&lt;</span>remoteRepo<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>branchname<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>推送发布版本时同时推送 tag</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> push --follow-tags <span class="token operator">&lt;</span>remoteRepo<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>branchname<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="合并远程分支"><a href="#合并远程分支" class="header-anchor">#</a> 合并远程分支</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> merge fork               <span class="token comment"># 将fork分支合并到当前分支</span>
<span class="token function">git</span> checkout fork a.c b.c    <span class="token comment"># 将fork分支的a.c b.c文件强制覆盖当前分支的对应文件</span>
<span class="token function">git</span> merge origin branchname  <span class="token comment"># 将本地分支与远程分支合并</span>
<span class="token function">git</span> mergetool                <span class="token comment"># 使用工具比较查看冲突</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="将最近两次提交合并为一个提交，并强制提交到远程仓库"><a href="#将最近两次提交合并为一个提交，并强制提交到远程仓库" class="header-anchor">#</a> 将最近两次提交合并为一个提交，并强制提交到远程仓库</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> reset --soft HEAD
<span class="token function">git</span> commit -m <span class="token string">&quot;...&quot;</span>
<span class="token function">git</span> push --force
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="删除远程分支"><a href="#删除远程分支" class="header-anchor">#</a> 删除远程分支</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> push <span class="token operator">&lt;</span>remoteRepo<span class="token operator">&gt;</span> -d <span class="token operator">&lt;</span>branchname<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="提交规范"><a href="#提交规范" class="header-anchor">#</a> 提交规范</h2> <p>在工程化项目中，随着项目越来越大，开发人员越来越多，为避免风格迥异，都会有各种各样的风格约束。<code>Git</code> 的提交信息也不例外，它在实践过程中，逐渐形成了一种规范化的提交内容规范。</p> <p>Tim Pope 在他的 <a href="https://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html" target="_blank" rel="noopener noreferrer">博客<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 中主张采用特定的消息样式。具体的讨论帖子可以参考 <a href="https://stackoverflow.com/questions/2290016/git-commit-messages-50-72-formatting" target="_blank" rel="noopener noreferrer">这里<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，各路大神在这里讨论的很详尽，有兴趣可以去看看。</p> <p>在实践中，越来越多的开发者参与进来，逐渐形成了现在流行的提交规范。在这其中，最知名的应该是 <a href="https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/" target="_blank" rel="noopener noreferrer">Angular 规范<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，它具有如下好处：</p> <ul><li>允许通过脚本直接生成 <code>CHANGELOG.md</code></li> <li>允许忽略 <code>git bisect</code> 提交（不像格式化那样重要的提交）</li> <li>浏览记录时可以提供更清晰的历史信息</li></ul> <p>具体示例，可以参考 <a href="https://github.com/angular/angular/commits/master" target="_blank" rel="noopener noreferrer">Angular 提交实例<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <img src="/assets/pic/git_angular_commit.png" alt=""> <h3 id="提交格式"><a href="#提交格式" class="header-anchor">#</a> 提交格式</h3> <p>每次提交，都应当包含三部分内容 <code>Header</code>、<code>Body</code> 和 <code>Footer</code>：</p> <div class="language-text line-numbers-mode"><pre class="language-text"><code>&amp;lt;type&gt;(&amp;lt;scope&gt;): &amp;lt;subject&gt;
// 空一行
&amp;lt;Body&gt;
// 空一行
&amp;lt;Footer&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>其中，<code>Header</code> 是必须的，它由 <code>type</code> 与 <code>subject</code> 构成，而 <code>Body</code> 与 <code>Footer</code> 是可选的。</p> <p>提交消息的任何一行都不能超过 100 个字符（或 72 个字符）! 这使得消息在 github 以及各种 git 工具中更容易阅读。</p> <h3 id="header"><a href="#header" class="header-anchor">#</a> Header</h3> <p>消息头只有一行，其中包含了对包含类型、可选范围和主题的更改的简洁描述。</p> <h4 id="type（类型）"><a href="#type（类型）" class="header-anchor">#</a> type（类型）</h4> <p><code>type</code> 用于说明提交的类型，只允许使用如下标识：</p> <ul><li><code>feat</code>：添加一个新功能</li> <li><code>fix</code>：修复一个 bug</li> <li><code>docs</code>：文档变更</li> <li><code>style</code>：不影响功能的代码格式修正（如空格、分号等格式的修改）</li> <li><code>refactor</code>：不包含修复 bug、功能新增的代码重构</li> <li><code>test</code>：添加、修改测试用例</li> <li><code>chore</code>：对构建过程或辅助工具和库的更改（不影响源文件、测试用例等）</li></ul> <p>随着技术的更迭，现在也可以有如下标识（<a href="https://github.com/conventional-changelog/commitlint" target="_blank" rel="noopener noreferrer">commitlint<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>）：</p> <ul><li><code>build</code>：对构建流程、外部依赖等的变更（如升级 npm 包、修改 webpack 配置等）</li> <li><code>ci</code>：修改 CI 配置、脚本</li> <li><code>perf</code>：性能优化</li> <li><code>revert</code>：回滚 commit</li></ul> <p>其中，<code>feat</code> 与 <code>fix</code> 类型的内容会自动生成在 <code>CHANGELOG.md</code> 中，其它内容可以自由配置，但建议使用默认即可。</p> <h4 id="scope（范围）"><a href="#scope（范围）" class="header-anchor">#</a> scope（范围）</h4> <p><code>scope</code> 用于说明提交影响的范围，比如数据层、控制层等，视项目而定，也可以不填。</p> <h4 id="subject（主题）"><a href="#subject（主题）" class="header-anchor">#</a> subject（主题）</h4> <p><code>subject</code> 是提交的简短描述。最好不超过 50 个字。最好使用<strong>英文</strong>，并且：</p> <ul><li>以动词开头，使用祈使句、现在时，如 <code>change</code>，而不是 <code>changed</code> 或者 <code>changes</code></li> <li>第一个词小写即可</li> <li>最后不要加句号（<code>.</code>）</li></ul> <h3 id="body"><a href="#body" class="header-anchor">#</a> Body</h3> <p>消息体是针对本次提交的详细描述，可以分成多行，同时也有两点需要注意：</p> <ul><li>与在 <code>subject</code> 中一样，内容使用祈使句、现在时，如 <code>change</code>，而不是 <code>changed</code> 或者 <code>changes</code></li> <li>具体说明改变的动机，以及与以前行为的对比</li></ul> <h3 id="footer"><a href="#footer" class="header-anchor">#</a> Footer</h3> <p><code>Footer</code> 只包含以下两种情况：</p> <ul><li>不兼容变更</li> <li>关闭 ISSUE</li></ul> <h4 id="break-change（不兼容变更）"><a href="#break-change（不兼容变更）" class="header-anchor">#</a> BREAK CHANGE（不兼容变更）</h4> <p>所有的 <code>BREAK CHANGE</code> 都必须作为中断更改块出现在 <code>Footer</code> 中，应该以 <code>BREAKING CHANGE:</code> 开始，用一个空格或者两个换行符。提交消息的其余部分是对更改、理由和迁移说明的描述。如：</p> <div class="language-text line-numbers-mode"><pre class="language-text"><code>BREAKING CHANGE: isolate scope bindings definition has changed and
    the inject option for the directive controller injection was removed.

    To migrate the code follow the example below:

    Before:

    scope: {
      myAttr: 'attribute',
      myBind: 'bind',
      myExpression: 'expression',
      myEval: 'evaluate',
      myAccessor: 'accessor'
    }

    After:

    scope: {
      myAttr: '@',
      myBind: '@',
      myExpression: '&amp;amp;',
      // myEval - usually not useful, but in cases where the expression is assignable, you can use '='
      myAccessor: '=' // in directive's template change myAccessor() to myAccessor
    }

    The removed `inject` wasn't generaly useful for directives so there should be no code using it.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h4 id="关闭-issue"><a href="#关闭-issue" class="header-anchor">#</a> 关闭 ISSUE</h4> <p>如果当前提交时针对某个 <code>ISSUE</code>，则可以在 <code>Footer</code> 中关闭该 <code>ISSUE</code>，可以同时关闭多个。如：</p> <div class="language-text line-numbers-mode"><pre class="language-text"><code>Closes #1
// or
Closes #1, #2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="操作-git-中的文件"><a href="#操作-git-中的文件" class="header-anchor">#</a> 操作 git 中的文件</h2> <h3 id="查看-git-占用空间"><a href="#查看-git-占用空间" class="header-anchor">#</a> 查看 git 占用空间</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">du</span> -sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="查找-git-中的文件"><a href="#查找-git-中的文件" class="header-anchor">#</a> 查找 git 中的文件</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> verify-pack -v .git/objects/pack/pack-*.idx <span class="token operator">|</span> <span class="token function">sort</span> -k <span class="token number">3</span> -g <span class="token operator">|</span> <span class="token function">tail</span> -5  // 找出git中占空间最大的前5个文件的id

<span class="token function">git</span> rev-list --objects --all <span class="token operator">|</span> <span class="token function">grep</span> <span class="token builtin class-name">.</span>  // 查看文件列表，可以和grep一起使用，grep后跟需要查找的文件名或id
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="删除匹配的-rar-文件"><a href="#删除匹配的-rar-文件" class="header-anchor">#</a> 删除匹配的*.rar 文件</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> filter-branch --force --index-filter <span class="token string">'git rm --cached --ignore-unmatch *.rar'</span> --prune-empty --tag-name-filter <span class="token function">cat</span> -- --all
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="回收空间"><a href="#回收空间" class="header-anchor">#</a> 回收空间</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">rm</span> -r .git/refs/original
<span class="token function">git</span> reflog expire --expire<span class="token operator">=</span>now --all
<span class="token function">git</span> gc --prune<span class="token operator">=</span>now
<span class="token function">git</span> gc --aggressive --prune<span class="token operator">=</span>now
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="常见操作"><a href="#常见操作" class="header-anchor">#</a> 常见操作</h2> <p>一些具体的问题解决方案</p> <h3 id="解决上游（fork-源）冲突"><a href="#解决上游（fork-源）冲突" class="header-anchor">#</a> 解决上游（fork 源）冲突</h3> <ul><li>从当前自己的项目中签出一个新的分支用于测试修改</li></ul> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">git</span> checkout -b <span class="token operator">&lt;</span>newBranch<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>oldBranch<span class="token operator">&gt;</span><span class="token punctuation">]</span>
<span class="token function">git</span> pull <span class="token operator">&lt;</span>forkSource<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>oldBranch<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>尝试合修改冲突并更新</li></ul> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">git</span> checkout <span class="token operator">&lt;</span>oldBranch<span class="token operator">&gt;</span>   <span class="token comment"># 如果有修改，无法切换，尝试先 git commit</span>
<span class="token function">git</span> merge --no-ff <span class="token operator">&lt;</span>newBranch<span class="token operator">&gt;</span>
<span class="token function">git</span> push <span class="token operator">&lt;</span>remoteRepo<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>oldBranch<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/jeremyjone/docs/edit/master/docs/document/git/README.md" target="_blank" rel="noopener noreferrer">修改此页面</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">最后更新时间:</span> <span class="time">12/22/2021, 7:03:40 AM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/document/git/github_workflow.html">
        GitHub Pages action 配置
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.8f8fa155.js" defer></script><script src="/assets/js/2.525f04cb.js" defer></script><script src="/assets/js/29.775f0e5a.js" defer></script>
  </body>
</html>
