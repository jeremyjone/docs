(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{519:function(s,t,a){"use strict";a.r(t);var e=a(1),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"github-pages-action-配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#github-pages-action-配置"}},[s._v("#")]),s._v(" GitHub Pages action 配置")]),s._v(" "),a("p",[s._v("GitHub 给我们提供了非常方便的部署功能 "),a("a",{attrs:{href:"https://github.com/marketplace/actions/github-pages-action",target:"_blank",rel:"noopener noreferrer"}},[s._v("GitHub Pages action"),a("OutboundLink")],1),s._v("。它可以帮助我们快速部署静态页面，省去了每次单独部署的繁琐操作，我们只需要通过简单的配置就可以实现该功能。")]),s._v(" "),a("p",[s._v("我们以该 vuepress 文档为例。")]),s._v(" "),a("h2",{attrs:{id:"添加工作流"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加工作流"}},[s._v("#")]),s._v(" 添加工作流")]),s._v(" "),a("p",[s._v("首先在项目中添加工作流文件："),a("code",[s._v(".github/workflows/gh-pages.yml")]),s._v("，"),a("code",[s._v("yml")]),s._v(" 文件名可以是任意名称。")]),s._v(" "),a("p",[s._v("这里我们用一个比较通用的解决方案 "),a("code",[s._v("peaceiris/actions-gh-pages@v3")]),s._v("：")]),s._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Build and Deploy "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 工作流名称。可选，任意填写")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定自动触发工作流程的事件")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("branches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("docs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定触发事件的分支")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("jobs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("build-and-deploy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 作业名称。任意填写")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("runs-on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ubuntu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("latest "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 运行环境")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("concurrency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 并发设置。确保只有使用相同并发组的单一作业或工作流才会同时运行")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("group")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" github.workflow "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" github.ref "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 并发组名")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("steps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 作业步骤")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Checkout "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 步骤名称")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" actions/checkout@v2 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 检索仓库并将其下载到运行器。只要工作流针对仓库的代码运行，都必须使用检出操作")]),s._v("\n\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Setup Node.js $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" env.NODE_VERSION "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 步骤名称")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" actions/setup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("node@v1 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装指定版本的 node 包。这步之后可以使用 npm 命令")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("with")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("node-version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" env.NODE_VERSION "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定版本。 env 是当前环境变量，它随作业步骤改变而改变")]),s._v("\n\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Install "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 步骤名称")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" yarn "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装依赖")]),s._v("\n\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Build "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 步骤名称")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" yarn docs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("build "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打包")]),s._v("\n\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Deploy "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 步骤名称")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" peaceiris/actions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("gh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("pages@v3 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将指定内容发布到 gh-pages 分支")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" github.ref == 'refs/heads/docs' "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 确保当前分支为 docs 才执行下面内容")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("with")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("publish_dir")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ./docs/.vuepress/dist "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 文件目录")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("github_token")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" secrets.GITHUB_TOKEN "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 自动创建 GITHUB_TOKEN")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("deploy_key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" secrets.ACTIONS_DEPLOY_KEY "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 秘钥 SSH Deploy Key。生成和配置方法看下面")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("commit_message")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Update docs "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 提交信息，任意填写")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br")])]),a("p",[s._v("配置好之后，就可以上传我们的代码，现在 GitHub 就可以根据我们的需求进行自动化部署了。")]),s._v(" "),a("h2",{attrs:{id:"解构文件内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解构文件内容"}},[s._v("#")]),s._v(" 解构文件内容")]),s._v(" "),a("p",[s._v("下面我们一点一点解读配置文件。也可以阅读 "),a("a",{attrs:{href:"https://docs.github.com/cn/actions/learn-github-actions/workflow-syntax-for-github-actions",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方文档"),a("OutboundLink")],1),s._v("，这里更加全面和详细。")]),s._v(" "),a("p",[s._v("我们的目标是每当我们 push 文档内容到 github，都会自动构建静态页面。")]),s._v(" "),a("p",[s._v("将上面事件内容模型化："),a("strong",[s._v("每当有预期事件发生，就会执行指定任务。")])]),s._v(" "),a("p",[s._v("所以我们可以通过上面 "),a("code",[s._v("yml")]),s._v(" 文件看出：")]),s._v(" "),a("ul",[a("li",[s._v("每当有事件符合触发条件 "),a("code",[s._v("on")]),s._v("，就会执行作业 "),a("code",[s._v("jobs")]),s._v("。")])]),s._v(" "),a("img",{attrs:{src:s.$withBase("/assets/pic/overview-actions-simple.png"),alt:""}}),s._v(" "),a("h3",{attrs:{id:"名称-name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#名称-name"}},[s._v("#")]),s._v(" 名称 name")]),s._v(" "),a("p",[s._v("设置工作流程的名称。GitHub 在仓库的操作页面上显示工作流程的名称。如果省略 "),a("code",[s._v("name")]),s._v("，GitHub 将其设置为相对于仓库根目录的工作流程文件路径。")]),s._v(" "),a("h3",{attrs:{id:"触发条件-on"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#触发条件-on"}},[s._v("#")]),s._v(" 触发条件 on")]),s._v(" "),a("p",[s._v("所以我们需要定义一个触发条件，也就是 "),a("code",[s._v("on")]),s._v("。这是一个 "),a("strong",[s._v("必填")]),s._v(" 内容。可以提供单一事件 "),a("code",[s._v("string")]),s._v("，事件的 "),a("code",[s._v("array")]),s._v("，或者事件 "),a("code",[s._v("types")]),s._v(" 的 "),a("code",[s._v("array")]),s._v(" 甚至是事件配置 "),a("code",[s._v("map")]),s._v("。")]),s._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" push\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("push"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" pull_request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("branches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" main\n\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("pull_request")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("branches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" main\n\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("page_build")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("release")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("types")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" created\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("p",[s._v("更多内容，可以参考 "),a("a",{attrs:{href:"https://docs.github.com/cn/actions/learn-github-actions/events-that-trigger-workflows",target:"_blank",rel:"noopener noreferrer"}},[s._v("文档"),a("OutboundLink")],1),s._v("。")]),s._v(" "),a("h3",{attrs:{id:"作业-jobs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#作业-jobs"}},[s._v("#")]),s._v(" 作业 jobs")]),s._v(" "),a("p",[s._v("工作流运行包括一项或多项作业。默认为并行作业。")]),s._v(" "),a("p",[s._v("每个作业在 "),a("code",[s._v("runs-on")]),s._v(" 指定的运行器环境中运行。")]),s._v(" "),a("p",[s._v("作业的配置内容十分丰富，可以参考 "),a("a",{attrs:{href:"https://docs.github.com/cn/actions/learn-github-actions/workflow-syntax-for-github-actions#jobs",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方文档"),a("OutboundLink")],1),s._v(" 仔细阅读。")]),s._v(" "),a("h4",{attrs:{id:"github-上下文"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#github-上下文"}},[s._v("#")]),s._v(" github 上下文")]),s._v(" "),a("p",[a("code",[s._v("github")]),s._v(" 上下文包含有关工作流运行并触发运行事件的信息，可以通过读取上下文内容获取大部分数据。具体参照 "),a("a",{attrs:{href:"https://docs.github.com/en/actions/learn-github-actions/contexts#github-context",target:"_blank",rel:"noopener noreferrer"}},[s._v("文档"),a("OutboundLink")],1),s._v("。")]),s._v(" "),a("p",[s._v("例如，我们在配置中用到的：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("github.workflow")]),s._v("：工作流名称。如果工作流文件未指定名称，则默认为工作流文件的完整路径。")]),s._v(" "),a("li",[a("code",[s._v("github.ref")]),s._v("：出发工作流运行的分支或标记。"),a("code",[s._v("refs/heads/<branch_name>")]),s._v(" 或 "),a("code",[s._v("refs/tags/<tag_name>")])])]),s._v(" "),a("h2",{attrs:{id:"添加-ssh-deploy-key"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加-ssh-deploy-key"}},[s._v("#")]),s._v(" 添加 SSH Deploy Key")]),s._v(" "),a("p",[s._v("我们在部署时需要用到 "),a("code",[s._v("deploy key")]),s._v("，如果没有，则会报找不到 "),a("code",[s._v("key")]),s._v(" 的错误。")]),s._v(" "),a("p",[s._v("在上面 "),a("code",[s._v("yml")]),s._v(" 文件中我们用到：")]),s._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("deploy_key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" secrets.ACTIONS_DEPLOY_KEY "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("名称可以随意起。")]),s._v(" "),a("h3",{attrs:{id:"生成-ssh-deploy-key"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生成-ssh-deploy-key"}},[s._v("#")]),s._v(" 生成 SSH Deploy Key")]),s._v(" "),a("p",[s._v("通过命令在本地生成一个 "),a("code",[s._v("deploy key")]),s._v("：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("ssh-keygen -t rsa -b "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" -C "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config user.email"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v('"')]),s._v(" -f gh-pages -N "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可以在当前路径下得到两个文件:")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#   gh-pages.pub (public key)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#   gh-pages     (private key)")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),a("p",[s._v("执行上面命令时，"),a("code",[s._v("Windows")]),s._v(" 用户不要使用 "),a("code",[s._v("PowerShell")]),s._v("，需要使用 "),a("code",[s._v("Git Bash")]),s._v("。")])]),s._v(" "),a("h3",{attrs:{id:"应用-ssh-deploy-key"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#应用-ssh-deploy-key"}},[s._v("#")]),s._v(" 应用 SSH Deploy Key")]),s._v(" "),a("p",[s._v("到 GitHub 仓库的 "),a("code",[s._v("settings")]),s._v(" 页面：")]),s._v(" "),a("ul",[a("li",[s._v("转到 "),a("code",[s._v("Deploy Keys")]),s._v(" 页面并添加新 "),a("code",[s._v("key")]),s._v("：")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[s._v("添加路径")]),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("添加 public key")]),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("添加成功")])])]),s._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("a",{attrs:{href:"https://github.com/jeremyjone/docs/blob/docs/docs/.vuepress/public/assets/pic/github_workflow_add_deploy_key1.png",target:"_blank"}},[a("img",{attrs:{src:s.$withBase("/assets/pic/github_workflow_add_deploy_key1.png"),alt:""}})])]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("a",{attrs:{href:"https://github.com/jeremyjone/docs/blob/docs/docs/.vuepress/public/assets/pic/github_workflow_add_deploy_key2.png",target:"_blank"}},[a("img",{attrs:{src:s.$withBase("/assets/pic/github_workflow_add_deploy_key2.png"),alt:""}})])]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("a",{attrs:{href:"https://github.com/jeremyjone/docs/blob/docs/docs/.vuepress/public/assets/pic/github_workflow_add_deploy_key3.png",target:"_blank"}},[a("img",{attrs:{src:s.$withBase("/assets/pic/github_workflow_add_deploy_key3.png"),alt:""}})])])])])]),s._v(" "),a("ul",[a("li",[s._v("转到 "),a("code",[s._v("Secrets")]),s._v(" 页面并添加新 "),a("code",[s._v("secret")]),s._v("：")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[s._v("添加路径")]),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("添加 private key")]),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("添加成功")])])]),s._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("a",{attrs:{href:"https://github.com/jeremyjone/docs/blob/docs/docs/.vuepress/public/assets/pic/github_workflow_add_secret_key1.png",target:"_blank"}},[a("img",{attrs:{src:s.$withBase("/assets/pic/github_workflow_add_secret_key1.png"),alt:""}})])]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("a",{attrs:{href:"https://github.com/jeremyjone/docs/blob/docs/docs/.vuepress/public/assets/pic/github_workflow_add_secret_key2.png",target:"_blank"}},[a("img",{attrs:{src:s.$withBase("/assets/pic/github_workflow_add_secret_key2.png"),alt:""}})])]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("a",{attrs:{href:"https://github.com/jeremyjone/docs/blob/docs/docs/.vuepress/public/assets/pic/github_workflow_add_secret_key3.png",target:"_blank"}},[a("img",{attrs:{src:s.$withBase("/assets/pic/github_workflow_add_secret_key3.png"),alt:""}})])])])])]),s._v(" "),a("blockquote",[a("p",[s._v("注意，需要记住填写的私钥名称，这个需要用在 "),a("code",[s._v("secrets.ACTIONS_DEPLOY_KEY")]),s._v(" 中。")])]),s._v(" "),a("h2",{attrs:{id:"自动部署到自己的服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自动部署到自己的服务器"}},[s._v("#")]),s._v(" 自动部署到自己的服务器")]),s._v(" "),a("p",[s._v("上面都是在部署 Github Page，如果需要部署到自己的网站，当然也是可以的。")]),s._v(" "),a("p",[s._v("这里我们以阿里云 ECS 为例。其部署流程也是差不多的，首先打包，然后连接到服务器，将指定文件拷贝到目标服务器的指定文件夹中即可。")]),s._v(" "),a("p",[s._v("这里我们用到另一个插件："),a("code",[s._v("easingthemes/ssh-deploy")]),s._v("，它可以帮助我们连接服务器并拷贝文件，只需要经过简单配置，就可以使用。")]),s._v(" "),a("h3",{attrs:{id:"生成连接秘钥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生成连接秘钥"}},[s._v("#")]),s._v(" 生成连接秘钥")]),s._v(" "),a("p",[s._v("首先，我们仍然需要 SSH Key 作为连接的钥匙。可以在服务器中生成：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("ssh-keygen -m PEM -t rsa -b "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("此时服务器 "),a("code",[s._v("~/.ssh")]),s._v(" 下会生成 "),a("code",[s._v("id_ras")]),s._v(" 与 "),a("code",[s._v("id_ras.pub")]),s._v("，后者是公钥，前者是私钥。")]),s._v(" "),a("h3",{attrs:{id:"部署公钥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署公钥"}},[s._v("#")]),s._v(" 部署公钥")]),s._v(" "),a("p",[s._v("将公钥追加到 "),a("code",[s._v("~/.ssh/authorized_keys")]),s._v(" 文件中，如果没有，就创建一个：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ~/.ssh/id_rsa.pub "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" ~/.ssh/authorized_keys\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 然后给整个文件夹 600 权限即可")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("600")]),s._v(" -R ~/.ssh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),a("p",[s._v("如果管理多个 SSH Key，每一次追加都需要确保有 "),a("code",[s._v("换行符")]),s._v(" 存在。")])]),s._v(" "),a("p",[s._v("如果是 "),a("code",[s._v("root")]),s._v(" 登录，需要修改 "),a("code",[s._v("/etc/ssh/sshd_config")]),s._v(" 中的 "),a("code",[s._v("PermitRootLogin")]),s._v(" 为 "),a("code",[s._v("yes")]),s._v("，然后重启 "),a("code",[s._v("service sshd restart")]),s._v(" 即可。")]),s._v(" "),a("p",[s._v("这样服务器就可以等待验证连接了。")]),s._v(" "),a("h3",{attrs:{id:"部署私钥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署私钥"}},[s._v("#")]),s._v(" 部署私钥")]),s._v(" "),a("p",[s._v("将私钥 "),a("code",[s._v("id_rsa")]),s._v(" 内容拷贝到 GitHub 中，添加方法与 "),a("a",{attrs:{href:"#%E5%BA%94%E7%94%A8-SSH-Deploy-Key"}},[s._v("应用 SSH Deploy Key")]),s._v(" 添加私钥的方法一样。")]),s._v(" "),a("h3",{attrs:{id:"配置变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置变量"}},[s._v("#")]),s._v(" 配置变量")]),s._v(" "),a("p",[s._v("需要用到 4 个变量：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("SSH_PRIVATE_KEY")]),s._v("：刚才添加的私钥")]),s._v(" "),a("li",[a("code",[s._v("REMOTE_HOST")]),s._v("：远程服务器地址，可以是域名，也可以是 IP")]),s._v(" "),a("li",[a("code",[s._v("REMOTE_USER")]),s._v("：远程服务器用户，需要有访问权限的用户")]),s._v(" "),a("li",[a("code",[s._v("TARGET")]),s._v("：服务器目标地址")])]),s._v(" "),a("p",[s._v("以上 4 个变量最好是添加到私钥用，这样就可以通过 "),a("code",[s._v("secrets.XXX")]),s._v(" 的方式读取到，文件中看不到私密信息。")]),s._v(" "),a("p",[s._v("除此之外，还有几个变量，可以直接填写：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("REMOTE_PORT")]),s._v("：远程服务器端口，默认 22，如果没变，就不用写了")]),s._v(" "),a("li",[a("code",[s._v("ARGS")]),s._v("：参数，默认为 "),a("code",[s._v("-rltgoDzvO")]),s._v("，根据不同服务器进行修改。阿里云为 "),a("code",[s._v("-avzr --delete")])]),s._v(" "),a("li",[a("code",[s._v("SOURCE")]),s._v("：源地址，这个一般是打包时固定好的，默认为 "),a("code",[s._v("''")]),s._v("，通常打包路径为 "),a("code",[s._v("dist/")])]),s._v(" "),a("li",[a("code",[s._v("EXCLUDE")]),s._v("：排除的目录、文件等。默认为 "),a("code",[s._v("''")]),s._v("，根据需要填写即可。")])]),s._v(" "),a("h3",{attrs:{id:"部署工作流"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署工作流"}},[s._v("#")]),s._v(" 部署工作流")]),s._v(" "),a("p",[s._v("最后就是完整的工作流配置文件：")]),s._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("br")]),a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Deploy to my server\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("branches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" main\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("path-ignore")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" README.md\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" gitignore\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("jobs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("build")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("runs-on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ubuntu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("latest\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("steps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换分支")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Checkout\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" actions/checkout@master\n\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装依赖")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Install dependencies\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" yarn\n\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 构建")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Build\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" yarn build\n\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 部署")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Deploy\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" easingthemes/ssh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("deploy@main\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("env")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("SSH_PRIVATE_KEY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" secrets.REMOTE_SERVER_ACCESS_TOKEN "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ARGS")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-avzr --delete"')]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("SOURCE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dist/"')]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("REMOTE_HOST")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" secrets.REMOTE_SERVER_HOST "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("REMOTE_USER")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" secrets.REMOTE_SERVER_USER "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("TARGET")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"${{ secrets.REMOTE_SERVER_TARGET }}"')]),s._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br")])])])}),[],!1,null,null,null);t.default=n.exports}}]);